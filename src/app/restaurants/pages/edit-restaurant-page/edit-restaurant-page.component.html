<form class="card" [formGroup]="form" (ngSubmit)="onSubmit()">
  <fieldset class="card-body">
    <h2 class="card-title">New restaurant</h2>

    <div class="form-group">
      <label for="name">Name</label>
      <input
        type="text"
        class="form-control"
        id="name"
        formControlName="name"
      />
      <div *ngIf="form.controls['name'] | validation as v" class="form-text">
        {{ v }}
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        class="form-control"
        id="description"
        formControlName="description"
      ></textarea>
      <div
        *ngIf="form.controls['description'] | validation as v"
        class="form-text"
      >
        {{ v }}
      </div>
    </div>

    <div class="form-group">
      <label for="address">Address</label>
      <input
        type="text"
        class="form-control"
        id="address"
        formControlName="address"
      />
      <div *ngIf="form.controls['address'] | validation as v" class="form-text">
        {{ v }}
      </div>
    </div>

    <div class="form-group">
      <label for="distance-in-km">Distance</label>
      <input
        type="number"
        placeholder="In kilometers"
        class="form-control"
        id="distance-in-km"
        formControlName="distanceInKm"
      />
      <div
        *ngIf="form.controls['distanceInKm'] | validation as v"
        class="form-text"
      >
        {{ v }}
      </div>
    </div>

    <div class="form-group">
      <label for="rating">Rating</label>
      <input
        type="number"
        min="1"
        max="10"
        placeholder="1-10"
        class="form-control"
        id="rating"
        formControlName="rating"
      />
      <div *ngIf="form.controls['rating'] | validation as v" class="form-text">
        {{ v }}
      </div>
    </div>

    <div class="form-group">
      <label>Discount</label>

      <div
        *ngFor="let option of discountOptions; let i = index"
        class="form-check"
      >
        <input
          class="form-check-input"
          type="radio"
          formControlName="discount"
          id="discount-{{ i }}"
          [value]="option.value"
        />
        <label class="form-check-label" for="discount-{{ i }}">
          {{ option.label }}
        </label>
      </div>
    </div>
  </fieldset>

  <footer class="card-footer d-flex justify-content-end">
    <button
      class="btn btn-primary"
      type="submit"
      [disabled]="form.invalid || isLoading"
    >
      {{ isLoading ? "Saving..." : "Save" }}
    </button>
  </footer>
</form>
